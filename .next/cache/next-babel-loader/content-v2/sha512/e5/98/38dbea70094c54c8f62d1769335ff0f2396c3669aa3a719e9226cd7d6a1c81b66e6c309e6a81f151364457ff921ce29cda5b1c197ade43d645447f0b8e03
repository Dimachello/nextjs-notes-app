{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/dima/Desktop/next-practise/next-notes/pages/index.tsx\";\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Loader from '../components/common/Loader';\nimport MainLayout from '../components/Layout';\nimport { StatusModal } from '../components/common/StatusModal';\nimport InputSection from '../components/InputSection';\nimport TopicsSection from '../components/TopicSection';\nexport default function Home() {\n  const {\n    0: topics,\n    1: setTopics\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setLoading\n  } = useState(false);\n  useEffect(() => {\n    if (localStorage.getItem('list') && JSON.parse(localStorage.getItem('list')).topics.length) {\n      const topics = JSON.parse(localStorage.getItem('list')).topics;\n      setTopics(topics);\n    } else {\n      setLoading(true);\n      axios('http://localhost:4200/topics').then(response => {\n        if (response.status === 200) {\n          const topics = response.data;\n          return topics;\n        } else {\n          throw new Error('Something went wrong!');\n        }\n      }).then(data => {\n        setTopics(data);\n        setLoading(false);\n      }).catch(error => {\n        if (error) {\n          StatusModal.fire({\n            title: error.message,\n            icon: 'warning',\n            position: 'center',\n            showConfirmButton: true\n          });\n          setLoading(false);\n        }\n      });\n    }\n  }, []);\n\n  const getTopicsList = list => {\n    setTopics(list);\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    children: [/*#__PURE__*/_jsxDEV(InputSection, {\n      topicsList: topics,\n      getTopicsList: getTopicsList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(TopicsSection, {\n      topics: topics,\n      getTopicsList: getTopicsList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/home/dima/Desktop/next-practise/next-notes/pages/index.tsx"],"names":["useState","useEffect","axios","Loader","MainLayout","StatusModal","InputSection","TopicsSection","Home","topics","setTopics","isLoading","setLoading","localStorage","getItem","JSON","parse","length","then","response","status","data","Error","catch","error","fire","title","message","icon","position","showConfirmButton","getTopicsList","list"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,SAASC,WAAT,QAA4B,kCAA5B;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AAGA,eAAe,SAASC,IAAT,GAAgB;AAC7B,QAAM;AAAA,OAACC,MAAD;AAAA,OAASC;AAAT,MAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAAA,OAACW,SAAD;AAAA,OAAYC;AAAZ,MAA0BZ,QAAQ,CAAC,KAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIY,YAAY,CAACC,OAAb,CAAqB,MAArB,KAAgCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCL,MAAzC,CAAgDQ,MAApF,EAA4F;AAC1F,YAAMR,MAAwB,GAAGM,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCL,MAA1E;AACAC,MAAAA,SAAS,CAACD,MAAD,CAAT;AACD,KAHD,MAGO;AACLG,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAV,MAAAA,KAAK,CAAC,8BAAD,CAAL,CACGgB,IADH,CACQC,QAAQ,IAAI;AAChB,YAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,gBAAMX,MAAwB,GAAGU,QAAQ,CAACE,IAA1C;AACA,iBAAOZ,MAAP;AACD,SAHD,MAGO;AACL,gBAAM,IAAIa,KAAJ,CAAU,uBAAV,CAAN;AACD;AACF,OARH,EASGJ,IATH,CASQG,IAAI,IAAI;AACZX,QAAAA,SAAS,CAACW,IAAD,CAAT;AACAT,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OAZH,EAaGW,KAbH,CAaSC,KAAK,IAAI;AACd,YAAIA,KAAJ,EAAW;AACTnB,UAAAA,WAAW,CAACoB,IAAZ,CAAiB;AACfC,YAAAA,KAAK,EAAEF,KAAK,CAACG,OADE;AAEfC,YAAAA,IAAI,EAAE,SAFS;AAGfC,YAAAA,QAAQ,EAAE,QAHK;AAIfC,YAAAA,iBAAiB,EAAE;AAJJ,WAAjB;AAMAlB,UAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,OAvBH;AAwBD;AACF,GA/BQ,EA+BN,EA/BM,CAAT;;AAiCA,QAAMmB,aAAa,GAAGC,IAAI,IAAI;AAC5BtB,IAAAA,SAAS,CAACsB,IAAD,CAAT;AACD,GAFD;;AAIA,sBACE,QAAC,UAAD;AAAA,4BACE,QAAC,YAAD;AAAc,MAAA,UAAU,EAAEvB,MAA1B;AAAkC,MAAA,aAAa,EAAEsB;AAAjD;AAAA;AAAA;AAAA;AAAA,YADF,EAGIpB,SAAS,gBAAG,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAAH,gBACP,QAAC,aAAD;AAAe,MAAA,MAAM,EAAEF,MAAvB;AAA+B,MAAA,aAAa,EAAEsB;AAA9C;AAAA;AAAA;AAAA;AAAA,YAJN;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD","sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Loader from '../components/common/Loader';\nimport MainLayout from '../components/Layout';\nimport { StatusModal } from '../components/common/StatusModal';\nimport InputSection from '../components/InputSection';\nimport TopicsSection from '../components/TopicSection';\nimport topicInterface from '../interfaces/topicInterface';\n\nexport default function Home() {\n  const [topics, setTopics] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (localStorage.getItem('list') && JSON.parse(localStorage.getItem('list')).topics.length) {\n      const topics: topicInterface[] = JSON.parse(localStorage.getItem('list')).topics;\n      setTopics(topics);\n    } else {\n      setLoading(true);\n      axios('http://localhost:4200/topics')\n        .then(response => {\n          if (response.status === 200) {\n            const topics: topicInterface[] = response.data;\n            return topics;\n          } else {\n            throw new Error('Something went wrong!');\n          }\n        })\n        .then(data => {\n          setTopics(data);\n          setLoading(false);\n        })\n        .catch(error => {\n          if (error) {\n            StatusModal.fire({\n              title: error.message,\n              icon: 'warning',\n              position: 'center',\n              showConfirmButton: true\n            })\n            setLoading(false);\n          }\n        })\n    }\n  }, []);\n\n  const getTopicsList = list => {\n    setTopics(list);\n  }\n\n  return (\n    <MainLayout>\n      <InputSection topicsList={topics} getTopicsList={getTopicsList} />\n      {\n        isLoading ? <Loader /> :\n          <TopicsSection topics={topics} getTopicsList={getTopicsList} />\n      }\n    </MainLayout>\n  )\n}"]},"metadata":{},"sourceType":"module"}