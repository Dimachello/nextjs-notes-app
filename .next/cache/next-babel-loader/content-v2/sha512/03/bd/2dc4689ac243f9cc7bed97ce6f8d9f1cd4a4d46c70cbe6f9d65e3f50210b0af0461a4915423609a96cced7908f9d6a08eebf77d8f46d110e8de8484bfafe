{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/dima/Desktop/next-practise/next-notes/pages/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Loader from '../components/common/Loader';\nimport MainLayout from '../components/Layout';\nimport { StatusModal } from '../components/common/StatusModal';\nimport InputSection from '../components/InputSection';\nimport TopicsSection from '../components/TopicSection';\nexport default function Home() {\n  _s();\n\n  var _useState = useState([]),\n      topics = _useState[0],\n      setTopics = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setLoading = _useState2[1];\n\n  useEffect(function () {\n    if (localStorage.getItem('list') && JSON.parse(localStorage.getItem('list')).topics.length) {\n      var _topics = JSON.parse(localStorage.getItem('list')).topics;\n      setTopics(_topics);\n    } else {\n      setLoading(true);\n      axios('http://localhost:4200/topics').then(function (response) {\n        if (response.status === 200) {\n          var _topics2 = response.data;\n          return _topics2;\n        } else {\n          throw new Error('Something went wrong!');\n        }\n      }).then(function (data) {\n        setTopics(data);\n        setLoading(false);\n      })[\"catch\"](function (error) {\n        if (error) {\n          StatusModal.fire({\n            title: error.message,\n            icon: 'warning',\n            position: 'center',\n            showConfirmButton: true\n          });\n          setLoading(false);\n        }\n      });\n    }\n  }, []);\n\n  var getTopicsList = function getTopicsList(list) {\n    setTopics(list);\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    children: [/*#__PURE__*/_jsxDEV(InputSection, {\n      topicsList: topics,\n      getTopicsList: getTopicsList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(TopicsSection, {\n      topics: topics,\n      getTopicsList: getTopicsList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"A3nMTxlHrXBIPyaEq0JrGmRKwYw=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/dima/Desktop/next-practise/next-notes/pages/index.tsx"],"names":["useState","useEffect","axios","Loader","MainLayout","StatusModal","InputSection","TopicsSection","Home","topics","setTopics","isLoading","setLoading","localStorage","getItem","JSON","parse","length","then","response","status","data","Error","error","fire","title","message","icon","position","showConfirmButton","getTopicsList","list"],"mappings":";;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,SAASC,WAAT,QAA4B,kCAA5B;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AAGA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAAA,kBACDR,QAAQ,CAAC,EAAD,CADP;AAAA,MACtBS,MADsB;AAAA,MACdC,SADc;;AAAA,mBAEGV,QAAQ,CAAC,KAAD,CAFX;AAAA,MAEtBW,SAFsB;AAAA,MAEXC,UAFW;;AAI7BX,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIY,YAAY,CAACC,OAAb,CAAqB,MAArB,KAAgCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCL,MAAzC,CAAgDQ,MAApF,EAA4F;AAC1F,UAAMR,OAAwB,GAAGM,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCL,MAA1E;AACAC,MAAAA,SAAS,CAACD,OAAD,CAAT;AACD,KAHD,MAGO;AACLG,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAV,MAAAA,KAAK,CAAC,8BAAD,CAAL,CACGgB,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,YAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,cAAMX,QAAwB,GAAGU,QAAQ,CAACE,IAA1C;AACA,iBAAOZ,QAAP;AACD,SAHD,MAGO;AACL,gBAAM,IAAIa,KAAJ,CAAU,uBAAV,CAAN;AACD;AACF,OARH,EASGJ,IATH,CASQ,UAAAG,IAAI,EAAI;AACZX,QAAAA,SAAS,CAACW,IAAD,CAAT;AACAT,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OAZH,WAaS,UAAAW,KAAK,EAAI;AACd,YAAIA,KAAJ,EAAW;AACTlB,UAAAA,WAAW,CAACmB,IAAZ,CAAiB;AACfC,YAAAA,KAAK,EAAEF,KAAK,CAACG,OADE;AAEfC,YAAAA,IAAI,EAAE,SAFS;AAGfC,YAAAA,QAAQ,EAAE,QAHK;AAIfC,YAAAA,iBAAiB,EAAE;AAJJ,WAAjB;AAMAjB,UAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,OAvBH;AAwBD;AACF,GA/BQ,EA+BN,EA/BM,CAAT;;AAiCA,MAAMkB,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,IAAI,EAAI;AAC5BrB,IAAAA,SAAS,CAACqB,IAAD,CAAT;AACD,GAFD;;AAIA,sBACE,QAAC,UAAD;AAAA,4BACE,QAAC,YAAD;AAAc,MAAA,UAAU,EAAEtB,MAA1B;AAAkC,MAAA,aAAa,EAAEqB;AAAjD;AAAA;AAAA;AAAA;AAAA,YADF,EAGInB,SAAS,gBAAG,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAAH,gBACP,QAAC,aAAD;AAAe,MAAA,MAAM,EAAEF,MAAvB;AAA+B,MAAA,aAAa,EAAEqB;AAA9C;AAAA;AAAA;AAAA;AAAA,YAJN;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD;;GAlDuBtB,I;;KAAAA,I","sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Loader from '../components/common/Loader';\nimport MainLayout from '../components/Layout';\nimport { StatusModal } from '../components/common/StatusModal';\nimport InputSection from '../components/InputSection';\nimport TopicsSection from '../components/TopicSection';\nimport topicInterface from '../interfaces/topicInterface';\n\nexport default function Home() {\n  const [topics, setTopics] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (localStorage.getItem('list') && JSON.parse(localStorage.getItem('list')).topics.length) {\n      const topics: topicInterface[] = JSON.parse(localStorage.getItem('list')).topics;\n      setTopics(topics);\n    } else {\n      setLoading(true);\n      axios('http://localhost:4200/topics')\n        .then(response => {\n          if (response.status === 200) {\n            const topics: topicInterface[] = response.data;\n            return topics;\n          } else {\n            throw new Error('Something went wrong!');\n          }\n        })\n        .then(data => {\n          setTopics(data);\n          setLoading(false);\n        })\n        .catch(error => {\n          if (error) {\n            StatusModal.fire({\n              title: error.message,\n              icon: 'warning',\n              position: 'center',\n              showConfirmButton: true\n            })\n            setLoading(false);\n          }\n        })\n    }\n  }, []);\n\n  const getTopicsList = list => {\n    setTopics(list);\n  }\n\n  return (\n    <MainLayout>\n      <InputSection topicsList={topics} getTopicsList={getTopicsList} />\n      {\n        isLoading ? <Loader /> :\n          <TopicsSection topics={topics} getTopicsList={getTopicsList} />\n      }\n    </MainLayout>\n  )\n}"]},"metadata":{},"sourceType":"module"}